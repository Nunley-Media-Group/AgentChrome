# File: tests/features/help-text.feature
#
# Generated from: .claude/specs/26-comprehensive-help-text/requirements.md
# Issue: #26

Feature: Comprehensive help text
  As a developer or AI agent using chrome-cli
  I want rich, detailed --help documentation for every command, subcommand, and flag
  So that I can fully understand all capabilities without external documentation

  # --- Top-Level Help ---

  Scenario: Top-level help displays tool description
    Given the chrome-cli binary is built
    When I run "chrome-cli --help"
    Then the output contains "Browser automation via the Chrome DevTools Protocol"

  Scenario: Top-level help lists all command groups
    Given the chrome-cli binary is built
    When I run "chrome-cli --help"
    Then the output contains "connect"
    And the output contains "tabs"
    And the output contains "navigate"
    And the output contains "page"
    And the output contains "js"
    And the output contains "console"
    And the output contains "network"
    And the output contains "interact"
    And the output contains "form"
    And the output contains "emulate"
    And the output contains "perf"
    And the output contains "dialog"
    And the output contains "config"
    And the output contains "completions"

  Scenario: Top-level help includes quick-start examples
    Given the chrome-cli binary is built
    When I run "chrome-cli --help"
    Then the output contains "QUICK START"
    And the output contains "chrome-cli connect"
    And the output contains "chrome-cli tabs list"

  Scenario: Top-level help documents exit codes
    Given the chrome-cli binary is built
    When I run "chrome-cli --help"
    Then the output contains "EXIT CODES"
    And the output contains "0"
    And the output contains "Success"
    And the output contains "Connection error"
    And the output contains "Timeout error"

  Scenario: Top-level help documents environment variables
    Given the chrome-cli binary is built
    When I run "chrome-cli --help"
    Then the output contains "ENVIRONMENT VARIABLES"
    And the output contains "CHROME_CLI_PORT"
    And the output contains "CHROME_CLI_TIMEOUT"

  # --- Command Group Help ---

  Scenario Outline: Command group help includes usage examples
    Given the chrome-cli binary is built
    When I run "chrome-cli <group> --help"
    Then the output contains "EXAMPLES"
    And the output contains "chrome-cli <group>"

    Examples:
      | group      |
      | tabs       |
      | navigate   |
      | page       |
      | js         |
      | console    |
      | network    |
      | interact   |
      | form       |
      | emulate    |
      | perf       |
      | dialog     |
      | config     |

  # --- Leaf Command Help ---

  Scenario Outline: Leaf command help includes detailed description and examples
    Given the chrome-cli binary is built
    When I run "chrome-cli <command> --help"
    Then the output contains "EXAMPLES"

    Examples:
      | command              |
      | tabs list            |
      | tabs create          |
      | tabs close           |
      | tabs activate        |
      | navigate back        |
      | navigate forward     |
      | navigate reload      |
      | page text            |
      | page snapshot        |
      | page find            |
      | page screenshot      |
      | page resize          |
      | js exec              |
      | console read         |
      | console follow       |
      | network list         |
      | network get          |
      | network follow       |
      | interact click       |
      | interact click-at    |
      | interact hover       |
      | interact drag        |
      | interact type        |
      | interact key         |
      | interact scroll      |
      | form fill            |
      | form fill-many       |
      | form clear           |
      | form upload          |
      | emulate set          |
      | emulate reset        |
      | emulate status       |
      | perf start           |
      | perf stop            |
      | perf analyze         |
      | perf vitals          |
      | dialog handle        |
      | dialog info          |
      | config show          |
      | config init          |
      | config path          |

  # --- Help Text Quality ---

  Scenario: No placeholder text in any help output
    Given the chrome-cli binary is built
    When I run --help for every command and subcommand
    Then no output contains "TODO"
    And no output contains "FIXME"
    And no output contains "placeholder"

  Scenario: All help commands exit successfully
    Given the chrome-cli binary is built
    When I run --help for every command and subcommand
    Then every command exits with code 0
